# PageIo - å…¨æ ˆåšå®¢ç³»ç»Ÿ

åŸºäº Next.js 14 + Express + MySQL æ„å»ºçš„ç°ä»£åŒ–å…¨æ ˆåšå®¢å¹³å°ï¼Œæ”¯æŒåšå®¢å‘å¸ƒã€é˜…è¯»ã€ç”¨æˆ·è®¤è¯ç­‰å®Œæ•´åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“ **åšå®¢ç®¡ç†** - æ”¯æŒåšå®¢çš„åˆ›å»ºã€ç¼–è¾‘ã€æŸ¥çœ‹å’Œåˆ é™¤
- ğŸ¨ **å¯Œæ–‡æœ¬ç¼–è¾‘å™¨** - é›†æˆè¯­é›€ç¼–è¾‘å™¨ï¼Œæä¾›ä¼˜è´¨çš„å†™ä½œä½“éªŒ
- ğŸ” **ç”¨æˆ·è®¤è¯** - JWT token èº«ä»½éªŒè¯æœºåˆ¶
- ğŸ“± **å“åº”å¼è®¾è®¡** - ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯å®Œç¾é€‚é…
- ğŸš€ **SSR/SSG** - Next.js æœåŠ¡ç«¯æ¸²æŸ“å’Œé™æ€ç”Ÿæˆ
- ğŸ’¾ **MySQL æ•°æ®åº“** - ç¨³å®šå¯é çš„æ•°æ®å­˜å‚¨
- ğŸ¯ **RESTful API** - æ ‡å‡†åŒ–çš„åç«¯æ¥å£è®¾è®¡
- ğŸ“Š **åˆ†é¡µæŸ¥è¯¢** - æ”¯æŒåšå®¢åˆ—è¡¨åˆ†é¡µåŠ è½½

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Next.js 14.2.13 (App Router)
- **UI åº“**: React 18 + Ant Design 5.21.6
- **æ ·å¼**: SCSS/CSS Modules
- **è¯­è¨€**: TypeScript 5
- **å¯Œæ–‡æœ¬**: è¯­é›€ç¼–è¾‘å™¨
- **å·¥å…·**: Moment.js, React-Responsive

### åç«¯
- **æ¡†æ¶**: Express 4.18
- **æ•°æ®åº“**: MySQL (mysql2 é©±åŠ¨)
- **è®¤è¯**: JWT (jsonwebtoken)
- **ç¯å¢ƒé…ç½®**: dotenv
- **ä¸­é—´ä»¶**: CORS, body-parser

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
PageIo/
â”œâ”€â”€ app/                      # Next.js App Router é¡µé¢
â”‚   â”œâ”€â”€ (client)/            # å®¢æˆ·ç«¯é¡µé¢ç»„
â”‚   â”‚   â”œâ”€â”€ blog/           # åšå®¢åˆ—è¡¨å’Œè¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ write/          # åšå®¢ç¼–è¾‘é¡µ
â”‚   â”‚   â””â”€â”€ components/     # å…¬å…±ç»„ä»¶(Header, Footer)
â”‚   â””â”€â”€ (customer)/         # ç”¨æˆ·ç›¸å…³é¡µé¢ç»„
â”‚       â””â”€â”€ login/          # ç™»å½•/æ³¨å†Œé¡µé¢
â”œâ”€â”€ api/                     # API è·¯ç”±å¤„ç†å™¨
â”‚   â”œâ”€â”€ blog.ts            # åšå®¢ API å®¢æˆ·ç«¯
â”‚   â””â”€â”€ in.ts              # è®¤è¯ç›¸å…³ API
â”œâ”€â”€ server/                  # åç«¯æœåŠ¡å™¨
â”‚   â”œâ”€â”€ app.js             # Express åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config/            # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ controllers/       # ä¸šåŠ¡é€»è¾‘æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ middleware/        # è®¤è¯ä¸­é—´ä»¶
â”‚   â””â”€â”€ scripts/           # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ request.ts         # HTTP è¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ parseTime.ts       # æ—¶é—´å¤„ç†
â”‚   â””â”€â”€ viewport.ts        # è§†å£æ£€æµ‹
â”œâ”€â”€ styles/                  # å…¨å±€æ ·å¼
â”œâ”€â”€ constants/              # å¸¸é‡å®šä¹‰
â””â”€â”€ middleware.ts           # Next.js ä¸­é—´ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- MySQL >= 5.7
- npm/yarn/pnpm

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yuanfang19959/PageIo.git
cd PageIo
```

### 2. å®‰è£…ä¾èµ–

#### å‰ç«¯ä¾èµ–
```bash
npm install
# æˆ–
yarn install
```

#### åç«¯ä¾èµ–
```bash
cd server
npm install
cd ..
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `server/` ç›®å½•ä¸‹é…ç½® `.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=blog_db

# JWT é…ç½®
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# æœåŠ¡å™¨é…ç½®
PORT=3002
NODE_ENV=development

# CORS é…ç½®
CORS_ORIGIN=http://localhost:3000
```

### 4. åˆå§‹åŒ–æ•°æ®åº“

```bash
cd server
npm run init-db
```

### 5. å¯åŠ¨æœåŠ¡

#### å¯åŠ¨åç«¯æœåŠ¡å™¨ (ç«¯å£ 3002)
```bash
cd server
npm run dev
```

#### å¯åŠ¨å‰ç«¯æœåŠ¡ (ç«¯å£ 3000)
æ–°å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ï¼š
```bash
npm run dev
```

### 6. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š
- å‰ç«¯é¡µé¢ï¼š[http://localhost:3000](http://localhost:3000)
- åç«¯ APIï¼š[http://localhost:3002](http://localhost:3002)

## ğŸ“± ä¸»è¦é¡µé¢

| è·¯ç”± | è¯´æ˜ |
|------|------|
| `/` | è‡ªåŠ¨è·³è½¬åˆ°åšå®¢åˆ—è¡¨ |
| `/blog` | åšå®¢åˆ—è¡¨é¡µ |
| `/blog/[id]` | åšå®¢è¯¦æƒ…é¡µ |
| `/write` | åšå®¢ç¼–è¾‘é¡µï¼ˆéœ€ç™»å½•ï¼‰ |
| `/login` | ç™»å½•/æ³¨å†Œé¡µ |

## ğŸ”Œ API æ¥å£

### åšå®¢ç›¸å…³

```
GET    /api/blogs              # è·å–åšå®¢åˆ—è¡¨
GET    /api/blogs/:id          # è·å–åšå®¢è¯¦æƒ…
POST   /api/blogs              # åˆ›å»ºåšå®¢ï¼ˆéœ€è®¤è¯ï¼‰
PUT    /api/blogs/:id          # æ›´æ–°åšå®¢ï¼ˆéœ€è®¤è¯ï¼‰
DELETE /api/blogs/:id          # åˆ é™¤åšå®¢ï¼ˆéœ€è®¤è¯ï¼‰
```

### ç”¨æˆ·ç›¸å…³

```
POST   /api/auth/login         # ç”¨æˆ·ç™»å½•
POST   /api/auth/register      # ç”¨æˆ·æ³¨å†Œ
```

è¯¦ç»† API æ–‡æ¡£è¯·æŸ¥çœ‹ï¼š[server/API.md](server/API.md)

## ğŸ—ï¸ æ„å»ºéƒ¨ç½²

### æ„å»ºå‰ç«¯

```bash
npm run build
npm run start
```

### å¯åŠ¨åç«¯ç”Ÿäº§ç¯å¢ƒ

```bash
cd server
NODE_ENV=production npm start
```

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `app/(client)/` æˆ– `app/(customer)/` ä¸‹åˆ›å»ºæ–°è·¯ç”±æ–‡ä»¶å¤¹
2. æ·»åŠ  `page.tsx` å’Œæ ·å¼æ–‡ä»¶ `index.module.scss`
3. é…ç½® metadata ä»¥ä¼˜åŒ– SEO

### æ·»åŠ æ–° API

1. åœ¨ `server/controllers/` æ·»åŠ æ§åˆ¶å™¨
2. åœ¨ `server/routes/index.js` æ³¨å†Œè·¯ç”±
3. åœ¨ `api/` åˆ›å»ºå¯¹åº”çš„å®¢æˆ·ç«¯è°ƒç”¨å‡½æ•°

### æ ·å¼å¼€å‘

- ä½¿ç”¨ SCSS Modules ç¼–å†™ç»„ä»¶æ ·å¼
- å…¨å±€æ ·å¼æ”¾åœ¨ `styles/globals.css`
- å˜é‡å’Œ mixins å¯åœ¨å„ SCSS æ–‡ä»¶ä¸­å®šä¹‰

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥

- æ£€æŸ¥ MySQL æœåŠ¡æ˜¯å¦å¯åŠ¨
- éªŒè¯ `.env` ä¸­æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ•°æ®åº“ç”¨æˆ·æƒé™

### 2. å‰ç«¯æ— æ³•è®¿é—®åç«¯ API

- ç¡®ä¿åç«¯æœåŠ¡åœ¨ 3002 ç«¯å£è¿è¡Œ
- æ£€æŸ¥ CORS é…ç½®
- éªŒè¯ `NEXT_PUBLIC_API_URL` ç¯å¢ƒå˜é‡

### 3. ç¼–è¾‘å™¨æ— æ³•åŠ è½½

- ç¡®ä¿å¼•å…¥äº†è¯­é›€ç¼–è¾‘å™¨çš„ CDN èµ„æº
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰åŠ è½½é”™è¯¯

### 4. GitHub è¿æ¥è¶…æ—¶

å¦‚é‡åˆ° `Failed to connect to github.com` é”™è¯¯ï¼š
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- å°è¯•ä½¿ç”¨ SSH æ›¿ä»£ HTTPS
- é…ç½® Git ä»£ç†ï¼ˆå¦‚ä½¿ç”¨ VPNï¼‰

## ğŸ“„ License

ISC

## ğŸ‘¤ ä½œè€…

**yuanfang19959.zzb (å¹³å¤´å“¥)**

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [React æ–‡æ¡£](https://react.dev)
- [Ant Design æ–‡æ¡£](https://ant.design)
- [Express æ–‡æ¡£](https://expressjs.com)
- [MySQL æ–‡æ¡£](https://dev.mysql.com/doc)
